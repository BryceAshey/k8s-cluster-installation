---

# Component versions supported by this role
kubeflare_ansible_min_version: '2.9.16'

# Valid cluster states
kubeflare_states:
- configured
- unconfigured

kubeflare_kernel:
  modules:
  - br_netfilter
  - overlay
  sysctl:
  - { name: net.bridge.bridge-nf-call-iptables, value: 1 }
  - { name: net.bridge.bridge-nf-call-ip6tables, value: 1 }
  - { name: net.ipv4.ip_forward, value: 1 }

kubeflare_supported_os_families:
- debian
- archlinux

kubeflare_supported_cri_plugins:
- docker
- containerd

cri_containerd_package_name:
  'latest': '{{ cri_containerd_package }}'
  '1.3.7': '{{ cri_containerd_package }}=1.3.7-1'
  '1.3.9': '{{ cri_containerd_package }}=1.3.9-1'
  '1.4.3': '{{ cri_containerd_package }}=1.4.3-1'
  'stable': '{{ cri_containerd_package }}=1.3.9-1'

architecture_map:
  amd64: 'amd64'
  x86_64: 'amd64'
  arm6l: 'arm'
  arm7l: 'arm'
  aarch64: 'arm64'
  32-bit: '386'
  64-bit: 'amd64'
architecture: '{{ architecture_map[ansible_architecture] }}'

cri_socket_map:
  crio: 'unix:///var/run/crio/crio.sock'
  containerd: 'unix:///run/containerd/containerd.sock'
  docker: 'unix:///var/run/dockershim.sock'
cri_socket_path: '{{ cri_socket_map[cri_plugin] }}'
